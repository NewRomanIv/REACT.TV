{"version":3,"sources":["components/Navigation.js","components/Footer.js","components/Layout.js","views/Home.js","services/tv-api.js","components/SerchForm.js","utils/getQueryParams.js","views/Shows.js","views/About.js","assets/pusheen.jpg","views/NotFound.js","routes.js","views/ShowDetails.js","components/App.js","index.js"],"names":["Navigation","className","activeClassName","exact","to","Footer","styles","maxWidth","marginLeft","marginRight","paddingRight","paddingLeft","Layout","children","style","Home","baseURL","tvApi","fetchShowDetails","showId","fetch","then","res","json","fetchShowWithQuery","searchQuery","entries","map","entry","show","SerchForm","state","value","handleChange","event","setState","target","handleSubmit","preventDefault","props","onSubmit","this","onChange","type","Component","getQueryParams","query","queryString","parse","Shows","shows","fetchQuery","handleChangeQuery","history","push","pathname","location","search","prevProps","prevState","prevQuery","nextQuery","match","length","url","id","from","name","image","src","medium","alt","About","container","textAlign","display","flexDirection","justifyContent","alignItems","status","fontSize","NotFound","console","log","imagePath","width","routes","home","showDetails","about","ShowDetails","handleGoBack","params","onClick","App","path","component","ReactDom","render","document","querySelector"],"mappings":"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","file":"static/js/main.c94733d8.chunk.js","sourcesContent":["import React from \"react\";\r\nimport { NavLink } from \"react-router-dom\";\r\n\r\nexport default function Navigation() {\r\n  return (\r\n    <ul>\r\n      <li>\r\n        <NavLink\r\n          className=\"Navigation-link\"\r\n          activeClassName=\"Navigation-link-active\"\r\n          exact\r\n          to=\"/\"\r\n        >\r\n          Home\r\n        </NavLink>\r\n      </li>\r\n      <li>\r\n        <NavLink\r\n          className=\"Navigation-link\"\r\n          activeClassName=\"Navigation-link-active\"\r\n          to=\"/shows\"\r\n        >\r\n          Shows\r\n        </NavLink>\r\n      </li>\r\n      <li>\r\n        <NavLink\r\n          className=\"Navigation-link\"\r\n          activeClassName=\"Navigation-link-active\"\r\n          to=\"/about\"\r\n        >\r\n          About\r\n        </NavLink>\r\n      </li>\r\n    </ul>\r\n  );\r\n}\r\n","import React from \"react\";\r\n\r\nexport default function Footer() {\r\n  return (\r\n    <footer>\r\n      <ul>\r\n        <li>Footer</li>\r\n        <li>Power by React</li>\r\n      </ul>\r\n    </footer>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport Navigation from \"./Navigation\";\r\nimport Footer from \"./Footer\";\r\n\r\nconst styles = {\r\n  maxWidth: 1170,\r\n  marginLeft: \"auto\",\r\n  marginRight: \"auto\",\r\n  paddingRight: 12,\r\n  paddingLeft: 12,\r\n};\r\n\r\nconst Layout = ({ children }) => (\r\n  <div style={styles}>\r\n    <Navigation />\r\n    {children}\r\n    <hr />\r\n    <Footer />\r\n  </div>\r\n);\r\n\r\nexport default Layout;\r\n","import React from \"react\";\r\n// import Navigation from '../components/Navigation'\r\n\r\nexport default function Home() {\r\n  return (\r\n    <div>\r\n      {/* <Navigation/> */}\r\n      <h1>Home page</h1>\r\n      <p>\r\n        Home page content Lorem ipsum dolor sit amet consectetur, adipisicing\r\n        elit. Maiores deleniti explicabo nihil eveniet nobis sit perspiciatis\r\n        inventore, quis, vitae vel cupiditate? Corporis distinctio enim\r\n        accusantium temporibus reiciendis cumque repellat nesciunt.\r\n      </p>\r\n    </div>\r\n  );\r\n}\r\n","const baseURL = \"http://api.tvmaze.com\";\n\nconst fetchShowDetails = (showId) => {\n  return fetch(`${baseURL}/shows/${showId}`).then((res) => res.json());\n};\n\nconst fetchShowWithQuery = (searchQuery) => {\n  return fetch(`${baseURL}/search/shows?q=${searchQuery}`)\n    .then((res) => res.json())\n    .then((entries) => entries.map((entry) => entry.show));\n};\n\nlet tvApi = { fetchShowDetails, fetchShowWithQuery };\n\nexport default tvApi;\n","import React, { Component } from \"react\";\r\n\r\nexport default class SerchForm extends Component {\r\n  state = {\r\n    value: \"\",\r\n  };\r\n\r\n  handleChange = (event) => {\r\n    this.setState({ value: event.target.value });\r\n  };\r\n\r\n  handleSubmit = (event) => {\r\n    event.preventDefault();\r\n    this.props.onSubmit(this.state.value);\r\n    this.setState({ value: \"\" });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <form onSubmit={this.handleSubmit}>\r\n        <input\r\n          onChange={this.handleChange}\r\n          type=\"text\"\r\n          value={this.state.value}\r\n        ></input>\r\n        <button type=\"submit\">Search</button>\r\n      </form>\r\n    );\r\n  }\r\n}\r\n","import queryString from \"query-string\";\r\n\r\nexport default function getQueryParams(query) {\r\n  return queryString.parse(query);\r\n}\r\n","// import React from \"react\";\r\n// import { Link } from \"react-router-dom\";\r\n\r\n// export default function Shows({ match }) {\r\n//   const shows = [\r\n//     { id: \"id-1\", name: \"Shows name 1\" },\r\n//     { id: \"id-2\", name: \"Shows name 2\" },\r\n//     { id: \"id-3\", name: \"Shows name 3\" },\r\n//     { id: \"id-4\", name: \"Shows name 4\" },\r\n//   ];\r\n\r\n//   return (\r\n//     <ul>\r\n//       {shows.map((show) => {\r\n//         return (\r\n//           <li key={show.id}>\r\n//             <Link to={`${match.url}/${show.id}`}>{show.name}</Link>\r\n//           </li>\r\n//         );\r\n//       })}\r\n//     </ul>\r\n//   );\r\n// }\r\n\r\nimport React, { Component } from \"react\";\r\n\r\nimport { Link } from \"react-router-dom\";\r\nimport tvApi from \"../services/tv-api\";\r\nimport SerchForm from \"../components/SerchForm\";\r\nimport queryString from \"../utils/getQueryParams\";\r\n\r\nexport default class Shows extends Component {\r\n  state = {\r\n    shows: [],\r\n  };\r\n\r\n  componentDidMount() {\r\n    let { query } = queryString(this.props.location.search);\r\n    if (query) {\r\n      return this.fetchQuery(query);\r\n    }\r\n    return this.fetchQuery(\"cars\");\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    // console.log(prevProps);\r\n    // console.log(this.props);\r\n    let { query: prevQuery } = queryString(prevProps.location.search);\r\n    let { query: nextQuery } = queryString(this.props.location.search);\r\n    // console.log(prevQuery);\r\n    // console.log(nextQuery);\r\n    if (prevQuery !== nextQuery) {\r\n      this.fetchQuery(nextQuery);\r\n    }\r\n  }\r\n\r\n  fetchQuery = (query) => {\r\n    tvApi.fetchShowWithQuery(query).then((shows) => {\r\n      return this.setState({ shows });\r\n    });\r\n  };\r\n\r\n  handleChangeQuery = (searchQuery) => {\r\n    // this.props.history.push(\"/about\");\r\n    this.props.history.push({\r\n      pathname: this.props.location.pathname,\r\n      search: `query=${searchQuery}`,\r\n    });\r\n  };\r\n\r\n  render() {\r\n    let { match } = this.props;\r\n    let { shows } = this.state;\r\n    return (\r\n      <>\r\n        <SerchForm onSubmit={this.handleChangeQuery} />\r\n        <ul>\r\n          {shows.length > 0 &&\r\n            shows.map((show) => (\r\n              <li key={show.id}>\r\n                <Link\r\n                  to={{\r\n                    pathname: `${match.url}/${show.id}`,\r\n                    state: { from: this.props.location },\r\n                  }}\r\n                >\r\n                  <h1>{show.name}</h1>\r\n                  {show.image && (\r\n                    <img src={show.image.medium} alt={show.name}></img>\r\n                  )}\r\n                </Link>\r\n              </li>\r\n            ))}\r\n        </ul>\r\n      </>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\n\r\nexport default function About() {\r\n  return <div>About page</div>;\r\n}\r\n","export default __webpack_public_path__ + \"static/media/pusheen.6ea98444.jpg\";","import React from \"react\";\nimport imagePath from \"../assets/pusheen.jpg\";\nimport { Link } from \"react-router-dom\";\n\nlet styles = {\n  container: {\n    textAlign: \"center\",\n    display: \"flex\",\n    flexDirection: \"column\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n  },\n  status: {\n    fontSize: 46,\n  },\n};\n\nexport default function NotFound() {\n  return (\n    <div style={styles.container}>\n      <h1 style={styles.status}>404</h1>\n      {console.log(imagePath)}\n      <img src={imagePath} alt=\"404 page\" width=\"400\" />\n      <p>\n        Такой страницы не существует. Вернуться{\" \"}\n        {<Link to=\"/\"> на главную</Link>}\n      </p>\n    </div>\n  );\n}\n","let routes = {\n  home: \"/\",\n  shows: \"/shows\",\n  showDetails: \"/shows/:showId\",\n  about: \"/about\",\n};\n\nexport default routes;\n","import React, { Component } from \"react\";\nimport tvApi from \"../services/tv-api\";\nimport routes from \"../routes\";\n\nexport default class ShowDetails extends Component {\n  state = {\n    show: \"\",\n  };\n\n  componentDidMount() {\n    console.log(this.props.match.params.showId);\n    tvApi.fetchShowDetails(this.props.match.params.showId).then((show) => {\n      return this.setState({ show });\n    });\n  }\n\n  handleGoBack = () => {\n    // console.log(this.props.location.state);\n    let { state } = this.props.location;\n    let { from } = this.props.location.state;\n    let { history } = this.props;\n    if (state && from) {\n      return history.push(from);\n    }\n    history.push(routes.shows);\n  };\n\n  render() {\n    return (\n      <div>\n        {this.state.show && (\n          <>\n            <button onClick={this.handleGoBack} type=\"button\">\n              Go back\n            </button>\n            <img\n              src={this.state.show.image.medium}\n              alt={this.state.show.name}\n            ></img>\n            <h2>{this.state.show.name}</h2>\n          </>\n        )}\n      </div>\n    );\n  }\n}\n","import React from \"react\";\n// import { Redirect, Route, Switch } from \"react-router-dom\";\nimport { Route, Switch } from \"react-router-dom\";\n\nimport Layout from \"./Layout\";\nimport Home from \"../views/Home\";\nimport Shows from \"../views/Shows\";\nimport About from \"../views/About\";\nimport NotFound from \"../views/NotFound\";\n\nimport ShowDetails from \"../views/ShowDetails\";\nimport routes from \"../routes\";\n\nexport default function App() {\n  return (\n    <Layout>\n      <Switch>\n        <Route path={routes.home} exact component={Home} />\n        <Route path={routes.shows} exact component={Shows} />\n        <Route path={routes.showDetails} component={ShowDetails} />\n        <Route path={routes.about} component={About} />\n        <Route component={NotFound} />\n        {/* <Redirect to=\"/\" /> */}\n      </Switch>\n    </Layout>\n  );\n}\n","import React from \"react\";\r\nimport ReactDom from \"react-dom\";\r\nimport { BrowserRouter } from \"react-router-dom\";\r\n\r\nimport \"./base.css\";\r\n\r\nimport App from \"./components/App\";\r\n\r\nReactDom.render(\r\n  <BrowserRouter>\r\n    <App />\r\n  </BrowserRouter>,\r\n  document.querySelector(\"#root\")\r\n);\r\n"],"sourceRoot":""}